clear;clc;
% 数值分析
% 第二次作业
% Ch4-1 SOR迭代计算

D=[5,0,0;0,4,0;0,0,10];
L=[0,0,0;1,0,0;-2,3,0];
U=[0,-2,-1;0,0,-2;0,0,0];
b=[-12;20;3];
w=0.9;

B=(D-w*L)\((1-w)*D+w*U)   % 求迭代公式中的B
f=(D-w*L)\(w*b)   % 求迭代公式中的f

k=1;
x=zeros(3,2);
x(:,k+1)=B*x(:,1)+f;
disp("------------iter:1--------------")
double(x)
while norm(x(:,k+1)-x(:,k),"inf")>=0.02
    k=k+1;
    x(:,k+1)=B*x(:,k)+f;
    disp("------------iter: "+k+"--------------")
    double(x)
end